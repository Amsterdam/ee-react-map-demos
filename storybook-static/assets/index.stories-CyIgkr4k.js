import{j as d}from"./jsx-runtime-DWbWqHZ-.js";import{l as b,L as S,g as T}from"./getCrsRd-CkzE2KbR.js";import{r as a,R as C}from"./index-l2PZgWEW.js";import"./index-CaNG7YX3.js";function H(e,n){const t=a.useRef(n);a.useEffect(function(){n!==t.current&&e.attributionControl!=null&&(t.current!=null&&e.attributionControl.removeAttribution(t.current),n!=null&&e.attributionControl.addAttribution(n)),t.current=n},[e,n])}const z=1;function M(e){return Object.freeze({__version:z,map:e})}const x=a.createContext(null),P=x.Provider;function N(){const e=a.useContext(x);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function A(e){function n(t,r){const{instance:o}=e(t).current;return a.useImperativeHandle(r,()=>o),null}return a.forwardRef(n)}function V(e,n){const t=a.useRef();a.useEffect(function(){return n!=null&&e.instance.on(n),t.current=n,function(){t.current!=null&&e.instance.off(t.current),t.current=null}},[e,n])}function _(e,n){const t=e.pane??n.pane;return t?{...e,pane:t}:e}function k(e,n,t){return Object.freeze({instance:e,context:n,container:t})}function G(e,n){return n==null?function(r,o){const u=a.useRef();return u.current||(u.current=e(r,o)),u}:function(r,o){const u=a.useRef();u.current||(u.current=e(r,o));const s=a.useRef(r),{instance:l}=u.current;return a.useEffect(function(){s.current!==r&&(n(l,r,s.current),s.current=r)},[l,r,o]),u}}function U(e,n){a.useEffect(function(){return(n.layerContainer??n.map).addLayer(e.instance),function(){var u;(u=n.layerContainer)==null||u.removeLayer(e.instance),n.map.removeLayer(e.instance)}},[n,e])}function X(e){return function(t){const r=N(),o=e(_(t,r),r);return H(r.map,t.attribution),V(o.current,t.eventHandlers),U(o.current,r),o}}function Z(e,n){const t=G(e,n),r=X(t);return A(r)}function q(e,n,t){const{opacity:r,zIndex:o}=n;r!=null&&r!==t.opacity&&e.setOpacity(r),o!=null&&o!==t.zIndex&&e.setZIndex(o)}function p(){return p=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},p.apply(this,arguments)}function D({bounds:e,boundsOptions:n,center:t,children:r,className:o,id:u,placeholder:s,style:l,whenReady:m,zoom:y,...j},O){const[h]=a.useState({className:o,id:u,style:l}),[c,w]=a.useState(null);a.useImperativeHandle(O,()=>(c==null?void 0:c.map)??null,[c]);const B=a.useCallback(L=>{if(L!==null&&c===null){const f=new b.Map(L,j);t!=null&&y!=null?f.setView(t,y):e!=null&&f.fitBounds(e,n),m!=null&&f.whenReady(m),w(M(f))}},[]);a.useEffect(()=>()=>{c==null||c.map.remove()},[c]);const I=c?C.createElement(P,{value:c},r):s??null;return C.createElement("div",p({},h,{ref:B}),I)}const F=a.forwardRef(D),J=Z(function({url:n,...t},r){const o=new b.TileLayer(n,_(t,r));return k(o,r)},function(n,t,r){q(n,t,r);const{url:o}=t;o!=null&&o!==r.url&&n.setUrl(o)}),K="_container_16p45_1",Q={container:K},g=()=>d.jsx("div",{className:Q.container,children:d.jsx(F,{center:S.latLng([52.370216,4.895168]),zoom:13,maxBounds:[[52.25168,4.64034],[52.50536,5.10737]],crs:T(),children:d.jsx(J,{url:"https://{s}.data.amsterdam.nl/topo_rd/{z}/{x}/{y}.png",subdomains:["t1","t2","t3","t4"],tms:!0})})});g.__docgenInfo={description:"",methods:[],displayName:"BaseLayer"};const W={title:"React-Leaflet/BaseLayer",component:g,parameters:{layout:"fullscreen",options:{panelPosition:"bottom",bottomPanelHeight:0}}},i={};var E,R,v;i.parameters={...i.parameters,docs:{...(E=i.parameters)==null?void 0:E.docs,source:{originalSource:"{}",...(v=(R=i.parameters)==null?void 0:R.docs)==null?void 0:v.source}}};const Y=["Base"],re=Object.freeze(Object.defineProperty({__proto__:null,Base:i,__namedExportsOrder:Y,default:W},Symbol.toStringTag,{value:"Module"}));export{re as B};
