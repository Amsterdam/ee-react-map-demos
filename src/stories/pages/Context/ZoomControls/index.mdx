import { Canvas, Meta, Source, Story } from '@storybook/blocks';
import * as ZoomControlsStories from './index.stories';
import MapContext from '@/pages/ContextExamples/ZoomControls/MapContext.ts?raw';
import MapProvider from '@/pages/ContextExamples/ZoomControls/MapProvider.tsx?raw';
import ZoomControls from '@/pages/ContextExamples/ZoomControls/ZoomControls.tsx?raw';
import Controls from '@/pages/ContextExamples/ZoomControls/Controls.tsx?raw';
import stylesControls from '@/pages/ContextExamples/ZoomControls/controls.module.css?raw';
import stylesMap from '@/pages/ContextExamples/map.module.css?raw';

<Meta of={ZoomControlsStories} />

# Context - Zoom Controls

**[GitHub Repo URL](https://github.com/Amsterdam/ee-react-map-demos/tree/main/src/pages/ContextExamples/ZoomControls)**

#### Table of Contents

- [Description](#description)
- [How to implement](#how-to-implement)
- [Usage](#usage)

## Description

Using the [Amsterdam Design System](https://designsystem.amsterdam/) we implemented some custom buttons to act as the [Leaflet map zoom controls](https://leafletjs.com/reference.html#control-zoom).

In this example, the Map context exports a single element - the Leaflet map object. This enables you to interact with your Leaflet map natively in any component (that is a child to the Map context provider component).

#### Z-index warning

Note that when rendering custom elements on top of a Leaflet map, you will need to handle the CSS `z-index` property. By default Leaflet renders some of its panes (DOM elements) with the `z-index` property set. Therefore, custom components may only be visible under the map DOM elements. It's useful to set a app constant to handle this z-index value. <a href="https://leafletjs.com/examples/map-panes/" target="_blank">More info</a>.

## How to implement

To accomplish the ZoomControls component, there are 6 files:

1. The React components
    * [MapContext.ts](#--mapcontextts)
    * [MapProvider.tsx](#--mapprovidertsx)
    * [ZoomControls.tsx](#--zoomcontrolstsx)
    * [Controls.tsx](#--controlstsx)
2. CSS styles
    * [controls.module.css](#--controlsmodulecss)
    * [map.module.css](#--mapmodulecss)

## Usage

### React Components

#### - MapContext.ts

<Source code={MapContext} />

#### - MapProvider.tsx

<Source code={MapProvider} />

#### - ZoomControls.tsx

<Source code={ZoomControls} />

#### - Controls.tsx

<Source code={Controls} />

### CSS styles

#### - controls.module.css

<Source code={stylesControls} />

#### - map.module.css

<Source code={stylesMap} />
