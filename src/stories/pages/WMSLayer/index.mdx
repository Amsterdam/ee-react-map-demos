import { Canvas, Meta, Source, Story } from '@storybook/blocks';
import * as WMSLayerStories from './index.stories';
import WMSLayer from '@/pages/WMSLayer/WMSLayer?raw';
import styles from '@/pages/WMSLayer/styles.module.css?raw';

<Meta of={WMSLayerStories} />

# Amsterdam WMSLayer

## Requirements

- This example is built upon the [BaseMap component example](../?path=/docs/react-baselayer--docs).
- [See global requirements list](../?path=/docs/global-requirements--docs)

## Description

The Web Map Service is a standard protocol developed by the Open Geospatial Consortium (OGC) for serving georeferenced map images generated by a map server from spatial data. These images are generated by a map server using data from a GIS database.

Leaflet's `TileLayer.WMS` allows you to display raster maps from WMS servers. WMS servers generate map images in various formats (like PNG, JPEG) based on parameters sent in the request URL. These parameters can include layers, styles, geographic bounding boxes, coordinate reference systems (CRS), and output image format.

The primary code in regards to creating a Leaflet WMS layer, is lines 50-68:

```js
useEffect(() => {
  if (mapInstance === null) {
    return;
  }

  L.tileLayer
    .wms(
      'https://map.data.amsterdam.nl/maps/adresseerbare_objecten?REQUEST=GetCapabilities&VERSION=1.1.0&SERVICE=wms',
      {
        layers: 'verblijfsobjecten_woonfunctie',
        format: 'image/svg+xml',
        transparent: true,
        crs: getCrsRd(),
      }
    )
    .addTo(mapInstance);
}, [mapInstance]);
```

## Usage Scenarios

- **Environmental Monitoring**: Displaying real-time data on air quality, water quality, or weather patterns.
- **Urban Planning**: Showing zoning maps, land use plans, or transportation networks.
- **Historical Maps**: Overlaying historical maps on current maps to show changes over time.
- **Disaster Management**: Displaying flood zones, earthquake impacts, or wildfire extents.
- **Biodiversity and Conservation**: Showing protected areas, wildlife habitats, or vegetation types.

## Usage

The following files are required:

### React Components

#### 1. WMSLayer.tsx

<Source code={WMSLayer} />

### CSS Styling

#### 1. styles.module.css

<Source code={styles} />
